---
version: '3.0'

services:
  grafana-test:
    restart: always
    image: bodsch/docker-grafana:5.2.2
    container_name: grafana-test
    hostname: grafana-test
    ports:
      - 3030:3000
    environment:
      URL_PATH: /
      # DATABASE_TYPE: mysql
      # MYSQL_HOST: database
      # MYSQL_PORT: 3306
      # MYSQL_ROOT_USER: root
      # MYSQL_ROOT_PASS: database.pass
      # CARBON_HOST: carbon
      # CARBON_PORT: 2003
      # MEMCACHE_HOST: memcached
      # MEMCACHE_PORT: 11211
      # DATABASE_GRAFANA_PASS: grafana
      LDAP_SERVER: ${LDAP_SERVER}
      LDAP_PORT: ${LDAP_PORT}
      LDAP_BIND_DN: ${LDAP_BIND_DN}
      LDAP_BIND_PASSWORD: ${LDAP_BIND_PASSWORD}
      LDAP_BASE_DN: ${LDAP_BASE_DN}
      LDAP_GROUP_DN: ${LDAP_GROUP_DN}
      LDAP_SEARCH_FILTER: ${LDAP_SEARCH_FILTER}
      # LDAP: '{
      #   "server": "${LDAP_SERVER}",
      #   "port": "${LDAP_PORT}",
      #   "bind_dn": "${LDAP_BIND_DN}",
      #   "bind_password": "${LDAP_BIND_PASSWORD}",
      #   "base_dn": "${LDAP_BASE_DN}",
      #   "group_dn": "${LDAP_GROUP_DN}",
      #   "search_filter": "${LDAP_SEARCH_FILTER}"
      # }'
    volumes:
      - /etc/localtime:/etc/localtime:ro
